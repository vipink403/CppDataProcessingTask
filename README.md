# Car Sales Analyzer

A high-performance C++ application for analyzing automotive sales data from CSV files. This project demonstrates efficient data processing techniques including single-pass file reading and aggregation.

## Features

- **CSV Data Processing**: Efficiently parses large CSV files with minimal memory overhead
- **Single-Pass Optimization**: Computes multiple aggregates in a single file read
- **Sales Analytics**: 
  - Count vehicle sales by manufacturer, country, and condition
  - Calculate revenue metrics across regions
  - Generate sorted revenue distributions
- **Modular Architecture**: Clean separation between data processing logic and presentation

## Project Structure

```
CarSalesAnalyzer/
??? CarSalesAnalyzer/
?   ??? Main.cpp                    # Entry point
?   ??? DataProcessor.h             # Function declarations and data structures
?   ??? DataProcessor.cpp           # Function implementations
?   ??? CarSalesAnalyzer.vcxproj    # Visual Studio project file
?   ??? CarSalesAnalyzer.vcxproj.filters  # Project filters
??? world_car_sales_1m.csv          # Input data file (required)
??? README.md                       # This file
```

## Requirements

- **Visual Studio 2019 or later** (Community, Professional, or Enterprise edition)
- **C++14 or higher** compiler
- **1 GB RAM** minimum (for large CSV files)
- **Windows OS** (tested on Windows 10/11)

## Build Instructions

### Method 1: Visual Studio GUI (Recommended)

1. **Open the Project**
   - Launch Visual Studio
   - Select **File** ? **Open** ? **Project/Solution**
   - Navigate to `CarSalesAnalyzer/CarSalesAnalyzer.vcxproj`
   - Click **Open**

2. **Build the Project**
   - Select **Build** ? **Build Solution** (or press `Ctrl+Shift+B`)
   - Wait for the build to complete (should show "Build succeeded")

3. **Verify Build**
   - Check the **Output** window to confirm no errors
   - The executable will be located in:
     - Debug: `CarSalesAnalyzer\Debug\CarSalesAnalyzer.exe`
     - Release: `CarSalesAnalyzer\Release\CarSalesAnalyzer.exe`

### Method 2: Command Line (MSBuild)

```bash
cd CarSalesAnalyzer
msbuild CarSalesAnalyzer.vcxproj /p:Configuration=Release /p:Platform=x64
```

### Method 3: Developer Command Prompt

1. Open **Developer Command Prompt for Visual Studio**
2. Navigate to the project directory:
   ```bash
   cd path\to\CarSalesAnalyzer
   ```
3. Run:
   ```bash
   msbuild CarSalesAnalyzer.vcxproj /p:Configuration=Release
   ```

## Running the Application

### Prerequisites

1. **Ensure the CSV file exists** in the same directory as the executable:
   ```
   CarSalesAnalyzer.exe
   world_car_sales_1m.csv
   ```

2. **Verify CSV Format**
   - The CSV must include these columns:
     - `sale_date` (format: YYYY-MM-DD or DD-MM-YYYY)
     - `country`
     - `manufacturer`
     - `condition` (New or Used)
     - `sale_price_usd`
     - `region`

### Run from Visual Studio

1. Press `F5` (Start Debugging) or `Ctrl+F5` (Start Without Debugging)
2. The application will execute and display results in the console

### Run from Command Line

Navigate to the executable directory and run:

```bash
CarSalesAnalyzer.exe
```

### Expected Output

```
--- Results from Single Pass ---
Number of New Audi cars sold in 2025 in China: [count]
Number of Used Audi cars sold in 2025 in China: [count]
Total Number of Audi cars sold in 2025 in China: [count]
Total revenue generated by BMW: $[amount]

BMW Revenue distribution in Europe (highest to lowest):
Total revenue in Germany: $[amount]
Total revenue in France: $[amount]
Total revenue in UK: $[amount]
...
```

## Code Architecture

### Main Components

#### **Main.cpp**
- Application entry point
- Configuration and execution flow
- Includes both single-pass and individual query examples (commented out)

#### **DataProcessor.h**
- Data structures: `SaleRecord`, `ColumnIndices`
- Function declarations with detailed documentation
- Type aliases: `pll` (pair of long long)

#### **DataProcessor.cpp**
- CSV parsing functions
- Data extraction and aggregation logic
- Single-pass optimization implementation

## Quick Start Guide

1. **Extract the project** to your desired location
2. **Open** `CarSalesAnalyzer/CarSalesAnalyzer.vcxproj` in Visual Studio
3. **Place** `world_car_sales_1m.csv` in the executable output directory
4. **Build** with `Ctrl+Shift+B`
5. **Run** with `F5` or `Ctrl+F5`
6. **View** results in the console window

## Testing

### Manual Testing Steps

1. Build project: `Build` ? `Build Solution`
2. Verify executable created in `Debug` or `Release` folder (CarSalesAnalyzer.exe)
3. Copy `world_car_sales_1m.csv` to executable directory
4. Run `CarSalesAnalyzer.exe`
5. Verify output appears in console
6. Test with custom CSV file
7. Verify error handling with malformed data

## Dependencies

- **C++ Standard Library (STL)**
  - `<fstream>` - File I/O
  - `<string>` - String handling
  - `<map>` - Key-value storage (ordered)
  - `<unordered_map>` - Hash map
  - `<vector>` - Dynamic arrays
  - `<algorithm>` - Sorting and searching
  - `<string_view>` - String references (zero-copy)
  - `<iostream>` - Console I/O

## Compiler Support

| Compiler | Version | Status |
|----------|---------|--------|
| MSVC | 2019+ | ? Tested |
| GCC | 5.0+ | ? Compatible |
| Clang | 3.8+ | ? Compatible |

## Quick Start Guide

1. **Extract the project** to your desired location
2. **Open** `CarSalesAnalyzer/CarSalesAnalyzer.vcxproj` in Visual Studio
3. **Place** `world_car_sales_1m.csv` in the executable output directory
4. **Build** with `Ctrl+Shift+B`
5. **Run** with `F5` or `Ctrl+F5`
6. **View** results in the console window

## License

This project is provided as-is for educational and commercial use.

## Contact & Support

For issues, questions, or suggestions:
1. Check the **Troubleshooting** section
2. Review code **comments** and **documentation**
3. Verify all **prerequisites** are installed
4. Check **Visual Studio Project Properties** settings

## Revision History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | 2025-01-18 | Initial release with modular architecture |
| 1.1 | 2025-01-19 | Added comprehensive README and documentation |

---

**Last Updated**: January 2025  
**Status**: Production Ready ?  
**Language**: C++14
